(create-online-filter-tutorial)=
# Create Online Filter (Tutorial)

This tutorial explains how to create an online Regolith filter using Python. At the end of this tutorial, you will have a working filter that can be quickly added to any Regolith project using the {ref}`regolith install<installing-filters>` command.

You can also read about the online filters in the {ref}`Online Filters<online-filters>` section of the documentation.

## Requirements

You need to have Python and Git installed as well as a GitHub account.
- You can find Python installation instructions {ref}`here<installing-python>`.
- You can find Git installation instructions {ref}`here<git-dependency>`.
- [GitHub](https://github.com/) account.

## Instructions

The tutorial assumes that you have basic understanding of Git and GitHub.

**1.** Create a new Git repository.

Create a new repository with a single subfolder in it. The name of the subfolder will be the name of your filter. Let's call it `hello_online_filter`.

**2.** Create a Python file for your filter.

We're using the same filter as in the {ref}`Local Filter Tutorial<create-local-filter-tutorial>`. Let's call the file `main.py` (you can call it anything you want as long as you reference it correctly in the `filter.json` file).

hello_online_filter/main.py:
```python
from pathlib import Path

Path("RP/hello-from-local-filter.txt").write_text("Hello from the resource pack!")
Path("BP/hello-from-local-filter.txt").write_text("Hello from the behavior pack!")
```
The script above creates two files, one in RP and one in BP, both containing a greeting message.

**3.** Create a filter.json file:

hello_online_filter/filter.json:
```json
{
    "description": "My first online filter.",
    "filters": [
        {
            "runWith": "python",
            "script": "./main.py"
        }
    ]
}
```

You can read about the structure of the `filter.json` file in the {ref}`filter.json section<filter-json>` of the documentation.

Note that the path to the main.py file is relative to the filter.json file, not the root of the repository. Both files are in the same folder - hello_online_filter.

Using the subfolder is not optional. Regolith requires that the filters are in direct subfolders of the root of the repository.

**4.** Push your changes to GitHub. Let's assume that your username is YourUsername and the repository name is example-regolith-filters.

**5.** Test installing your filter.

After all of the above steps, you should be able to install your filter in any Regolith project using the command below. Simply create a new Regolith project and in that project run:

```text
regolith install github.com/YourUsername/example-regolith --profile default
```

After running that command, Regolith will download your filter and add it to the default profile.

Run `regolith run`. Regolith should now create two new files in the resource and behavior packs generated by the project.
